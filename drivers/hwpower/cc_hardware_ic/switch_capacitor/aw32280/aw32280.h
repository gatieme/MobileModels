/*
 * Copyright (c) 2020-2020 Huawei Technologies Co., Ltd.
 *
 * This software is licensed under the terms of the GNU General Public
 * License version 2, as published by the Free Software Foundation, and
 * may be copied, distributed, and modified under those terms.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 */

#ifndef _AW32280_H_
#define _AW32280_H_

#include <linux/init.h>
#include <linux/module.h>
#include <linux/device.h>
#include <linux/slab.h>
#include <linux/i2c.h>
#include <linux/gpio.h>
#include <linux/of.h>
#include <linux/of_device.h>
#include <linux/of_address.h>
#include <linux/of_gpio.h>
#include <linux/interrupt.h>
#include <linux/irq.h>
#include <linux/raid/pq.h>
#include <linux/bitops.h>
#include <huawei_platform/power/direct_charger/direct_charger.h>

/*************************struct define area***************************/
struct aw32280_device_info {
	struct i2c_client *client;
	struct device *dev;
	struct work_struct irq_work;
	struct delayed_work hkadc_start_cfg_work;
	struct nty_data nty_data;
	int gpio_en;
	int gpio_rst_n;
	int gpio_tm_eco;
	int gpio_int;
	int irq_int;
	int irq_active;
	int chip_already_init;
	int device_id;
	int tsbus_high_r_kohm;
	int tsbus_low_r_kohm;
	int switching_frequency;
	int special_freq_shift;
	u32 ic_role;
	int sense_r_actual;
	int sense_r_config;
	u32 chrg_ctl_reg_init;
	u32 adc_fn_reg_init;
	int get_id_time;
	int init_finish_flag;
	int int_notify_enable_flag;
	u32 adc_accuracy;
	int adc_v_ref;
	int v_pullup;
	int r_pullup;
	int r_comp;
	atomic_t pm_suspend;
	int aw32280_err_flag;
};

/*************************marco define area***************************/
/* REG_GLB Register List */
#define AW32280_CHIP_ID_0_REG					0x00
#define AW32280_CHIP_ID_1_REG					0x01
#define AW32280_CHIP_ID_2_REG					0x02
#define AW32280_CHIP_ID_3_REG					0x03
#define AW32280_CHIP_ID_4_REG					0x04
#define AW32280_CHIP_ID_5_REG					0x05
#define AW32280_DEVICE_ID_MASK					0xFF
#define AW32280_DEVICE_ID_AW32280				0x60
#define AW32280_DEVICE_ID_AW32280_NEW			0x62

#define AW32280_SOFT_RST_CTRL_REG				0x06
#define AW32280_SOFT_RESET_VALUE				0xAC
#define AW32280_SOFT_RESET_DONE					0x5A

#define AW32280_CRG_CLK_EN_CTRL_REG				0x09

#define AW32280_SC_OVP_EN_REG					0x12
#define AW32280_SC_OVP_EN_MASK	BIT(0)
#define AW32280_SC_OVP_EN	1
#define AW32280_SC_OVP_EN_REG_INIT 0x1

#define AW32280_SC_OVP_MODE_REG					0x13
#define AW32280_SC_OVP_MODE_MASK				BIT(0)
#define AW32280_SC_OVP_MODE_FORWARD				0
#define AW32280_SC_OVP_MODE_REG_INIT	0

#define AW32280_SC_PSW_EN_REG					0x14
#define AW32280_SC_PSW_EN_MASK					BIT(0)
#define AW32280_SC_PSW_EN						1
#define AW32280_SC_PSW_EN_REG_INIT				0x1

#define AW32280_SC_PSW_MODE_REG					0x15
#define AW32280_SC_PSW_MODE_MASK				BIT(0)
#define AW32280_SC_PSW_MODE_FORWARD				0
#define AW32280_SC_PSW_MODE_REG_INIT			0

#define AW32280_SC_SC_EN_REG					0x16
#define AW32280_SC_SC_EN_MASK					BIT(0)
#define AW32280_SC_SC_EN_SHIFT					0
#define AW32280_SC_SC_EN						1
#define AW32280_SC_SC_EN_REG_INIT				1

#define AW32280_SC_SC_MODE_REG					0x18
#define AW32280_SC_SC_MODE_MASK					(BIT(0) | BIT(1) | BIT(2))
#define AW32280_SC_SC_MODE_SHIFT				0
#define AW32280_SC_SC_MODE_FBPS					0x0
#define AW32280_SC_SC_MODE_F21SC				0x1
#define AW32280_SC_SC_MODE_F41SC				0x2
#define AW32280_SC_SC_MODE_REG_INIT				0x1

#define AW32280_SC_WDT_EN_REG					0x20
#define AW32280_SC_WDT_EN_MASK					BIT(0)
#define AW32280_SC_WDT_EN						1
#define AW32280_SC_WDT_EN_REG_INIT				0x0

#define AW32280_WDT_SOFT_RST_REG				0x21
#define AW32280_WD_RST_N_MASK					BIT(0)
#define AW32280_WD_RST_N_SHIFT					0
#define AW32280_WD_RST							1

#define AW32280_WDT_CTRL_REG					0x22
#define AW32280_SC_WATCHDOG_TIMER_MASK			(BIT(0) | BIT(1))
#define AW32280_SC_WATCHDOG_TIMER_SHIFT			0
#define AW32280_SC_WATCHDOG_TIMER_500MS			500
#define AW32280_SC_WATCHDOG_TIMER_1000MS		1000
#define AW32280_SC_WATCHDOG_TIMER_2000MS		2000
#define AW32280_SC_WATCHDOG_TIMER_5000MS		5000
#define AW32280_SC_WATCHDOG_SET_500MS			0
#define AW32280_SC_WATCHDOG_SET_1000MS			1
#define AW32280_SC_WATCHDOG_SET_2000MS			2
#define AW32280_SC_WATCHDOG_SET_5000MS			3

#define AW32280_DIG_STATUS0_REG					0x23
#define AW32280_WDT_TIME_OUT_N_MASK				BIT(0)
#define AW32280_WDT_TIME_OUT					0

/* REG_HKADC Register List */
#define AW32280_HKADC_EN_REG					0x100
#define AW32280_SC_HKADC_EN_MASK				BIT(0)
#define AW32280_SC_HKADC_EN_SHIFT				0
#define AW32280_SC_HKADC_EN						1
#define AW32280_HKADC_EN_REG_INIT				0x1

#define AW32280_HKADC_START_REG					0x101
#define AW32280_HKADC_START_MASK				BIT(0)
#define AW32280_HKADC_START_SHIFT				0
#define AW32280_HKADC_START_CONVERSION			0x1

#define AW32280_HKADC_CTRL1_REG					0x102
#define AW32280_HKADC_SEQ_LOOP_MASK				BIT(4)
#define AW32280_HKADC_SEQ_LOOP_SHIFT			4
#define AW32280_HKADC_SEQ_LOOP_EN				1

#define AW32280_HKADC_SEQ_CH_H_REG				0x103
#define AW32280_HKADC_SEQ_CH_L_REG				0x104

#define AW32280_HKADC_RD_SEQ_REG				0x105
#define AW32280_HKADC_RD_SEQ_MASK				BIT(0)
#define AW32280_HKADC_RD_SEQ_SHIFT				0
#define AW32280_HKADC_RD_SEQ_REQ				1

#define AW32280_HKADC_DATA_VALID_REG			0x106
#define AW32280_HKADC_DATA_VALID_MASK			BIT(0)
#define AW32280_HKADC_DATA_VALID				0x1
#define AW32280_HKADC_SAMPLE_COMPLETED			1
#define AW32280_HKADC_SAMPLE_NOT_COMPLETED		0
#define AW32280_HKADC_SAMPLE_TIMES				3

#define AW32280_VUSB_ADC_L_REG					0x107
#define AW32280_VUSB_ADC_H_REG					0x108
#define AW32280_VUSB_ADC_H_MASK					(BIT(0) | BIT(1) | BIT(2) | BIT(3) | BIT(4) | BIT(5) | BIT(6))

#define AW32280_VPSW_ADC_L_REG					0x109
#define AW32280_VPSW_ADC_H_REG					0x10A
#define AW32280_VBUS_ADC_L_REG					0x10B
#define AW32280_VBUS_ADC_H_REG					0x10C
#define AW32280_VBUS_ADC_H_MASK					(BIT(0) | BIT(1) | BIT(2) | BIT(3) | BIT(4) | BIT(5) | BIT(6))

#define AW32280_VOUT1_ADC_L_REG					0x10D
#define AW32280_VOUT1_ADC_H_REG					0x10E
#define AW32280_VOUT1_ADC_H_MASK				(BIT(0) | BIT(1) | BIT(2) | BIT(3) | BIT(4))

#define AW32280_VOUT2_ADC_L_REG					0x10F
#define AW32280_VOUT2_ADC_H_REG					0x110
#define AW32280_VBAT1_ADC_L_REG					0x111
#define AW32280_VBAT1_ADC_H_REG					0x112
#define AW32280_VBAT2_ADC_L_REG					0x113
#define AW32280_VBAT2_ADC_H_REG					0x114
#define AW32280_IBAT1_ADC_L_REG					0x115
#define AW32280_IBAT1_ADC_H_REG					0x116
#define AW32280_IBAT1_ADC_H_MASK				(BIT(0) | BIT(1) | BIT(2) | BIT(3))

#define AW32280_IBAT2_ADC_L_REG					0x117
#define AW32280_IBAT2_ADC_H_REG					0x118
#define AW32280_IBUS_REF_ADC_L_REG				0x119
#define AW32280_IBUS_REF_ADC_H_REG				0x11A
#define AW32280_IBUS_ADC_L_REG					0x11B
#define AW32280_IBUS_ADC_H_REG					0x11C
#define AW32280_IBUS_ADC_H_MASK					(BIT(0) | BIT(1) | BIT(2) | BIT(3) | BIT(4))

#define AW32280_TDIE_ADC_L_REG					0x11D

#define AW32280_TDIE_ADC_H_REG					0x11E
#define AW32280_TDIE_ADC_H_MASK					(BIT(0) | BIT(1) | BIT(2) | BIT(3))

#define AW32280_TBAT1_ADC_L_REG					0x11F
#define AW32280_TBAT1_ADC_H_REG					0x120
#define AW32280_TBAT2_ADC_L_REG					0x121
#define AW32280_TBAT2_ADC_H_REG					0x122
#define AW32280_TEST_ADC_L_REG					0x123
#define AW32280_TEST_ADC_H_REG					0x124
#define AW32280_RESV_ADC_L_REG					0x125
#define AW32280_RESV_ADC_H_REG					0x126
#define AW32280_OTP_EN_REG						0x127
#define AW32280_OTP_EN_MASK						BIT(0)
#define AW32280_OTP_EN_SHIFT					0
#define AW32280_OTP_EN_REG_INIT					0x1

#define AW32280_TH_TBAT_OTP_REG					0x128
#define AW32280_TH_TBAT_OTP_HYS_REG				0x129

#define AW32280_DA_IBAT1_RES_PLACE_SEL_REG		0x136
#define AW32280_DA_IBAT1_RES_PLACE_SEL_REG_INIT	0x1

#define AW32280_DA_IBAT2_RES_PLACE_SEL_REG		0x137

/* REG_IRQ Register List */
#define AW32280_IRQ_FLAG_REG					0x200
#define AW32280_IRQ_FLAG_USB_OVP_MASK			BIT(3)
#define AW32280_IRQ_FLAG_USB_OVP				1
#define AW32280_IRQ_FLAG_PSW_OVP_MASK			BIT(2)
#define AW32280_IRQ_FLAG_PSW_OVP				1
#define AW32280_IRQ_FLAG_SC_MASK				BIT(1)
#define AW32280_IRQ_FLAG_SC						1
#define AW32280_IRQ_FLAG_OTHERS_MASK			BIT(0)
#define AW32280_IRQ_FLAG_OTHERS					1

#define AW32280_IRQ_FLAG_0_REG					0x201
#define AW32280_IRQ_OVP_VUSB_OVP_ALM_MASK		BIT(6)
#define AW32280_IRQ_OVP_VUSB_OVP_ALM			1
#define AW32280_IRQ_OVP_VUSB_OVP_MASK			BIT(5)
#define AW32280_IRQ_OVP_VUSB_OVP				1
#define AW32280_IRQ_OVP_VUSB_UVLO_MASK			BIT(4)
#define AW32280_IRQ_OVP_VUSB_UVLO				1
#define AW32280_IRQ_OVP_VUSB_PLUGOUT_MASK		BIT(3)
#define AW32280_IRQ_OVP_VUSB_PLUGOUT			1
#define AW32280_IRQ_OVP_PWRON_MASK				BIT(2)
#define AW32280_IRQ_OVP_PWRON					1
#define AW32280_IRQ_FWR_OVP_VDROP_OVP_MASK		BIT(1)
#define AW32280_IRQ_FWR_OVP_VDROP_OVP			1
#define AW32280_IRQ_OVP_VUSB_PLUGIN_MASK		BIT(0)
#define AW32280_IRQ_OVP_VUSB_PLUGIN				1

#define AW32280_IRQ_FLAG_1_REG					0x202
#define AW32280_IRQ_FLAG_2_REG					0x203
#define AW32280_IRQ_SC_VBUS_OVP_MASK			BIT(2)

#define AW32280_IRQ_FLAG_3_REG					0x204
#define AW32280_IRQ_TBAT1_OTP_MASK				BIT(7)
#define AW32280_IRQ_FWD_IBAT1_OCP_MASK			BIT(5)
#define AW32280_IRQ_FWD_IBUS_OCP_PEAK           BIT(3)
#define AW32280_IRQ_FWD_IQ6Q8_OCP_PEAK          BIT(2)
#define AW32280_IRQ_FWD_VDROP_MIN               BIT(1)
#define AW32280_IRQ_FWD_VDROP_OVP               BIT(0)

#define AW32280_IRQ_FLAG_4_REG					0x205
#define AW32280_IRQ_SC_OCP3_MASK				BIT(7)
#define AW32280_IRQ_SC_IBUS_UCP                 BIT(6)
#define AW32280_IRQ_SC_IBUS_RCP                 BIT(5)
#define AW32280_IRQ_FWD_VBAT1_OVP_MASK			BIT(2)

#define AW32280_IRQ_FLAG_5_REG					0x206
#define AW32280_IRQ_TDIE_OTP_ALM_MASK			BIT(3)
#define AW32280_IRQ_TDIE_OTP_MASK				BIT(1)

#define AW32280_IRQ_MASK_REG					0x210
#define AW32280_IRQ_MASK_REG_INIT				0x0

#define AW32280_IRQ_MASK_0_REG					0x211
#define AW32280_IRQ_MASK_0_REG_INIT				0x4

#define AW32280_IRQ_MASK_1_REG					0x212
#define AW32280_IRQ_MASK_1_REG_INIT				0xFF

#define AW32280_IRQ_MASK_2_REG					0x213
#define AW32280_IRQ_MASK_2_REG_INIT				0x21

#define AW32280_IRQ_MASK_3_REG					0x214
#define AW32280_IRQ_MASK_3_REG_INIT				0x00 // 0xF0

#define AW32280_IRQ_MASK_4_REG					0x215
#define AW32280_IRQ_MASK_4_REG_INIT				0x0

#define AW32280_IRQ_MASK_5_REG					0x216
#define AW32280_IRQ_MASK_5_REG_INIT				0x0

#define AW32280_IRQ_STATUS_0_REG				0x220
#define AW32280_IRQ_STATUS_1_REG				0x221
#define AW32280_IRQ_STATUS_2_REG				0x222
#define AW32280_IRQ_STATUS_3_REG				0x223
#define AW32280_IRQ_STATUS_4_REG				0x224
#define AW32280_IRQ_STATUS_5_REG				0x225
#define AW32280_ECO_MODE_REG					0x231

/* REG_ANA Register List */
#define AW32280_REF_TOP_CFG_REG_0_REG			0x300
#define AW32280_REF_TOP_CFG_REG_0_REG_INIT		0xE1

#define AW32280_USB_OVP_CFG_REG_0_REG			0x302
#define AW32280_USB_OVP_CFG_REG_0_REG_INIT		0x32

#define AW32280_PSW_OVP_CFG_REG_0_REG			0x303
#define AW32280_PSW_OVP_CFG_REG_0_REG_INIT		0x0

#define AW32280_SC_PRO_TOP_CFG_REG_0_REG		0x304
#define AW32280_SC_PRO_TOP_CFG_REG_0_REG_INIT	0xA4
#define AW32280_SC_PRO_TOP_CFG_REG_0_RUNNING	0xAC

#define AW32280_SC_PRO_TOP_CFG_REG_1_REG		0x305
#define AW32280_SC_PRO_TOP_CFG_REG_1_REG_INIT	0x02

#define AW32280_SC_PRO_TOP_CFG_REG_2_REG		0x306
#define AW32280_SC_PRO_TOP_CFG_REG_2_REG_INIT	0x1

#define AW32280_SC_PRO_TOP_CFG_REG_3_REG		0x307
#define AW32280_SC_PRO_TOP_CFG_REG_3_REG_INIT	0x1

#define AW32280_SC_DET_TOP_CFG_REG_0_REG		0x308
#define AW32280_SC_DET_TOP_CFG_REG_0_REG_INIT	0xFE

#define AW32280_SC_DET_TOP_CFG_REG_1_REG		0x309
#define AW32280_SC_DET_TOP_CFG_REG_1_REG_INIT	0x1

#define AW32280_SYS_LOGIC_CFG_REG_1_REG			0x30B
#define AW32280_SYS_LOGIC_CFG_REG_1_REG_INIT	0x0

#define AW32280_SC_AD_SC_RDY_REG				0x30D

#define AW32280_REF_TOP_CFG_REG_1_REG			0x312

#define AW32280_SC_TOP_CFG_REG_3_REG			0x315

#define AW32280_SC_TOP_CFG_REG_4_REG			0x316
#define AW32280_SC_FREQ_SEL_CONFIG_MASK			(BIT(1) | BIT(2) | BIT(3))
#define AW32280_SC_FREQ_SEL_CONFIG_SHIFT		(1)
#define AW32280_SC_FREQ_SEL_CONFIG_310KHZ		(310)
#define AW32280_SC_FREQ_SEL_310KHZ_VALUE		(0)
#define AW32280_SC_FREQ_SEL_CONFIG_380KHZ		(380)
#define AW32280_SC_FREQ_SEL_380KHZ_VALUE		(1)
#define AW32280_SC_FREQ_SEL_CONFIG_450KHZ		(450)
#define AW32280_SC_FREQ_SEL_450KHZ_VALUE		(2)
#define AW32280_SC_FREQ_SEL_CONFIG_530KHZ		(530)
#define AW32280_SC_FREQ_SEL_530KHZ_VALUE		(3)
#define AW32280_SC_FREQ_SEL_CONFIG_600KHZ		(600)
#define AW32280_SC_FREQ_SEL_600KHZ_VALUE		(4)
#define AW32280_SC_FREQ_SEL_CONFIG_670KHZ		(670)
#define AW32280_SC_FREQ_SEL_670KHZ_VALUE		(5)
#define AW32280_SC_FREQ_SEL_CONFIG_740KHZ		(740)
#define AW32280_SC_FREQ_SEL_740KHZ_VALUE		(6)
#define AW32280_SC_FREQ_SEL_CONFIG_800KHZ		(800)
#define AW32280_SC_FREQ_SEL_800KHZ_VALUE		(7)

#define AW32280_SC_TOP_CFG_REG_6_REG			0x318
#define AW32280_SC_TOP_CFG_REG_6_REG_INIT		0x81

#define AW32280_USB_OVP_CFG_REG_1_REG			0x31E
#define AW32280_CAP_DISCHARGE_ACTIVE_MASK		BIT(2)
#define AW32280_CAP_DISCHARGE_ACTIVE_SHIFT		2

#define AW32280_USB_OVP_CFG_REG_2_REG			0x31F
#define AW32280_USB_OVP_CFG_REG_2_MASK			(BIT(5) | BIT(6) | BIT(7))
#define AW32280_USB_OVP_CFG_REG_2_SHIFT			5
#define AW32280_USB_OVP_F41SC					0x6
#define AW32280_USB_OVP_F21SC					0x2
#define AW32280_USB_OVP_FBPS					0x0
#define AW32280_USB_OVP_CFG_REG_2_REG_INIT		0xA2

#define AW32280_PSW_OVP_CFG_REG_1_REG			0x320
#define AW32280_PSW_OVP_CFG_REG_2_REG			0x321
#define AW32280_PSW_OVP_CFG_REG_2_MASK			(BIT(5) | BIT(6) | BIT(7))
#define AW32280_PSW_OVP_CFG_REG_2_SHIFT			5
#define AW32280_PSW_OVP_F41SC					0x6
#define AW32280_PSW_OVP_F21SC					0x2
#define AW32280_PSW_OVP_FBPS					0x0

#define AW32280_SC_PRO_TOP_CFG_REG_4_REG		0x322
#define AW32280_DA_FWD_IBAT1_OCP_SEL_MASK		(BIT(0) | BIT(1) | BIT(2) | BIT(3))
#define AW32280_DA_FWD_IBAT1_OCP_SEL_SHIFT		0

#define AW32280_SC_PRO_TOP_CFG_REG_5_REG		0x323
#define AW32280_DA_FWD_IBAT2_OCP_SEL_MASK		(BIT(4) | BIT(5) | BIT(6) | BIT(7))
#define AW32280_DA_FWD_IBAT2_OCP_SEL_SHIFT		4

#define AW32280_SC_PRO_TOP_CFG_REG_6_REG		0x324
#define AW32280_DA_IBAT_SRE_SEL_MASK			BIT(2)
#define AW32280_DA_IBAT_SRE_SEL_SHIFT			2
#define AW32280_DA_IBAT_SRE_SEL_1MOHM			0
#define AW32280_DA_IBAT_SRE_SEL_2MOHM			1

#define AW32280_SC_PRO_TOP_CFG_REG_7_REG		0x325
#define AW32280_DA_SC_OCP_PEAK_SEL_MASK			(BIT(0) | BIT(1) | BIT(2) | BIT(3) | BIT(4))
#define AW32280_DA_SC_OCP_PEAK_SEL_SHIFT		2
#define AW32280_DA_SC_OCP_PEAK_SEL_BASE			2880
#define AW32280_DA_SC_OCP_PEAK_SEL_MAX			17760
#define AW32280_DA_SC_OCP_PEAK_SEL_STEP			480

#define AW32280_SC_PRO_TOP_CFG_REG_8_REG		0x326
#define AW32280_DA_SC_OCP_PEAK_SEL_MASK			(BIT(0) | BIT(1) | BIT(2) | BIT(3) | BIT(4))
#define AW32280_DA_SC_OCP_PEAK_SEL_SHIFT		2
#define AW32280_SC_PRO_TOP_CFG_REG_8_REG_INIT	0xD5

#define AW32280_SC_PRO_TOP_CFG_REG_9_REG		0x327
#define AW32280_SC_PRO_TOP_CFG_REG_9_REG_INIT	0x4B

#define AW32280_SC_PRO_TOP_CFG_REG_11_REG		0x329
#define AW32280_SC_PRO_TOP_CFG_REG_12_REG		0x32A
#define AW32280_SC_PRO_TOP_CFG_REG_12_REG_INIT	0x18

#define AW32280_SC_DET_TOP_CFG_REG_2_REG		0x32B
#define AW32280_SC_DET_TOP_CFG_REG_2_REG_INIT	0x31

#define AW32280_SC_DET_TOP_CFG_REG_3_REG		0x32C
#define AW32280_SC_DET_TOP_CFG_REG_4_REG		0x32D
#define AW32280_SC_DET_TOP_CFG_REG_4_REG_INIT	0xA0

#define AW32280_SC_DET_TOP_CFG_REG_5_REG		0x32E
#define AW32280_SC_DET_TOP_CFG_REG_5_REG_INIT	0x08

#define AW32280_SC_DET_TOP_CFG_REG_6_REG		0x32F
#define AW32280_BLK_TOP_CFG_REG_0_REG			0x330
#define AW32280_DA_SC_VBUS_OVP_F41SC_SEL_REG	0x334
#define AW32280_DA_SC_VBUS_OVP_F41SC_SEL_MASK	BIT(0)
#define AW32280_DA_SC_VBUS_OVP_F41SC_SEL_SHIFT	0
#define AW32280_DA_SC_VBUS_OVP_F41SC_SEL_22V	0
#define AW32280_DA_SC_VBUS_OVP_F41SC_SEL_23V	1

#define AW32280_DA_SC_VBUS_OVP_F21SC_SEL_REG	0x335
#define AW32280_DA_SC_VBUS_OVP_F21SC_SEL_MASK	BIT(0)
#define AW32280_DA_SC_VBUS_OVP_F21SC_SEL_SHIFT	0
#define AW32280_DA_SC_VBUS_OVP_F21SC_SEL_12V	0
#define AW32280_DA_SC_VBUS_OVP_F21SC_SEL_13V	1

#define AW32280_DA_SC_VBUS_OVP_FBPS_SEL_REG		0x336
#define AW32280_DA_SC_VBUS_OVP_FBPS_SEL_MASK	BIT(0)
#define AW32280_DA_SC_VBUS_OVP_FBPS_SEL_SHIFT	0
#define AW32280_DA_SC_VBUS_OVP_FBPS_SEL_5600MV	0
#define AW32280_DA_SC_VBUS_OVP_FBPS_SEL_6000MV	1

#define AW32280_DA_SC_VOUT_OVP_SEL_REG			0x337
#define AW32280_DA_SC_VOUT_OVP_SEL_MASK			(BIT(0) | BIT(1))
#define AW32280_DA_SC_VOUT_OVP_SEL_SHIFT		0
#define AW32280_DA_SC_VOUT_OVP_SEL_4600MV		4600
#define AW32280_DA_SC_VOUT_OVP_SEL_4800MV		4800
#define AW32280_DA_SC_VOUT_OVP_SEL_5000MV		5000
#define AW32280_DA_SC_VOUT_OVP_SEL_5200MV		5200
#define AW32280_DA_SC_VOUT_OVP_SEL_STEP			200
#define AW32280_VOUT_OVP_THRESHOLD_INIT			4600

#define AW32280_DA_FWD_VBAT1_OVP_SEL_REG		0x338
#define AW32280_DA_FWD_VBAT_OVP_MASK			(BIT(0) | BIT(1) | BIT(2))
#define AW32280_DA_FWD_VBAT_OVP_SHIFT			0
#define AW32280_DA_FWD_VBAT_OVP_BASE			4500
#define AW32280_DA_FWD_VBAT_OVP_MAX				5200
#define AW32280_DA_FWD_VBAT_OVP_STEP			100
#define AW32280_VBAT_OVP_THRESHOLD_INIT			4600

#define AW32280_DA_FWD_VBAT2_OVP_SEL_REG		0x339
#define AW32280_DA_TDIE_OTP_SET_REG				0x33A

#define AW32280_AC_OVP_THRESHOLD_INIT      12000  /* 12v */
#define AW32280_VBUS_OVP_THRESHOLD_INIT    0	  /* 5.6v */
#define AW32280_IBUS_OCP_THRESHOLD_INIT    4750   /* 4.75a */
#define AW32280_DA_FWD_IBAT1_OCP_SEL_11000MA    0xB  /* 11a */
#define AW32280_DA_FWD_IBAT1_OCP_SEL_13000MA    0xD  /* 13a */

#define AW32280_CHG_ENABLE	1
#define AW32280_CHG_RST_N	0

/********************************************
 * Register Access
 *******************************************/
#define AW32280_REG_MAX					(0x033B)

#define REG_NONE_ACCESS					(0)
#define REG_RD_ACCESS					(1 << 0)
#define REG_WR_ACCESS					(1 << 1)

const unsigned char aw32280_reg_access[AW32280_REG_MAX] = {
	/* GLB */
	[AW32280_CHIP_ID_0_REG]	= (REG_RD_ACCESS),
	[AW32280_CHIP_ID_1_REG]	= (REG_RD_ACCESS),
	[AW32280_CHIP_ID_2_REG]	= (REG_RD_ACCESS),
	[AW32280_CHIP_ID_3_REG]	= (REG_RD_ACCESS),
	[AW32280_CHIP_ID_4_REG]	= (REG_RD_ACCESS),
	[AW32280_CHIP_ID_5_REG]	= (REG_RD_ACCESS),
	[AW32280_SOFT_RST_CTRL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_CRG_CLK_EN_CTRL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_OVP_EN_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_OVP_MODE_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PSW_EN_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PSW_MODE_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_SC_EN_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_SC_MODE_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_WDT_EN_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_WDT_SOFT_RST_REG]	= (REG_NONE_ACCESS),
	[AW32280_WDT_CTRL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DIG_STATUS0_REG]	= (REG_RD_ACCESS),

	/* HKADC */
	[AW32280_HKADC_EN_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_HKADC_START_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_HKADC_CTRL1_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_HKADC_SEQ_CH_H_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_HKADC_SEQ_CH_L_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_HKADC_RD_SEQ_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_HKADC_DATA_VALID_REG]	= (REG_RD_ACCESS),
	[AW32280_VUSB_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_VUSB_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_VPSW_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_VPSW_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_VBUS_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_VBUS_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_VOUT1_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_VOUT1_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_VOUT2_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_VOUT2_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_VBAT1_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_VBAT1_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_VBAT2_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_VBAT2_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_IBAT1_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_IBAT1_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_IBAT2_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_IBAT2_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_IBUS_REF_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_IBUS_REF_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_IBUS_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_IBUS_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_TDIE_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_TDIE_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_TBAT1_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_TBAT1_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_TBAT2_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_TBAT2_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_TEST_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_TEST_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_RESV_ADC_L_REG]	= (REG_RD_ACCESS),
	[AW32280_RESV_ADC_H_REG]	= (REG_RD_ACCESS),
	[AW32280_OTP_EN_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_TH_TBAT_OTP_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_TH_TBAT_OTP_HYS_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DA_IBAT1_RES_PLACE_SEL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DA_IBAT2_RES_PLACE_SEL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),

	/* IRQ */
	[AW32280_IRQ_FLAG_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_FLAG_0_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_FLAG_1_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_FLAG_2_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_FLAG_3_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_FLAG_4_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_FLAG_5_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_MASK_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_IRQ_MASK_0_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_IRQ_MASK_1_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_IRQ_MASK_2_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_IRQ_MASK_3_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_IRQ_MASK_4_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_IRQ_MASK_5_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_IRQ_STATUS_0_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_STATUS_1_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_STATUS_2_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_STATUS_3_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_STATUS_4_REG]	= (REG_RD_ACCESS),
	[AW32280_IRQ_STATUS_5_REG]	= (REG_RD_ACCESS),

	/* ANA */
	[AW32280_REF_TOP_CFG_REG_0_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_USB_OVP_CFG_REG_0_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_PSW_OVP_CFG_REG_0_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_0_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_1_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_2_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_3_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_DET_TOP_CFG_REG_0_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_DET_TOP_CFG_REG_1_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SYS_LOGIC_CFG_REG_1_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_AD_SC_RDY_REG]	= (REG_RD_ACCESS),
	[AW32280_REF_TOP_CFG_REG_1_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_TOP_CFG_REG_3_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_TOP_CFG_REG_4_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_TOP_CFG_REG_6_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_USB_OVP_CFG_REG_1_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_USB_OVP_CFG_REG_2_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_PSW_OVP_CFG_REG_1_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_PSW_OVP_CFG_REG_2_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_4_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_5_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_6_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_7_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_8_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_9_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_11_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_PRO_TOP_CFG_REG_12_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_DET_TOP_CFG_REG_2_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_DET_TOP_CFG_REG_3_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_SC_DET_TOP_CFG_REG_6_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_BLK_TOP_CFG_REG_0_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DA_SC_VBUS_OVP_F41SC_SEL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DA_SC_VBUS_OVP_F21SC_SEL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DA_SC_VBUS_OVP_FBPS_SEL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DA_SC_VOUT_OVP_SEL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DA_FWD_VBAT1_OVP_SEL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DA_FWD_VBAT2_OVP_SEL_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
	[AW32280_DA_TDIE_OTP_SET_REG]	= (REG_RD_ACCESS | REG_WR_ACCESS),
};

/*************************normal ref to aw32280***************************/
#define START_CFG_WORK_DELAYED_TIME 100

#define AW32280_INIT_FINISH                1
#define AW32280_NOT_INIT                   0
#define AW32280_ENABLE_INT_NOTIFY          1
#define AW32280_DISABLE_INT_NOTIFY         0

#define AW32280_NOT_USED                   0
#define AW32280_USED                       1
#define AW32280_SWITCHCAP_DISABLE          0

#define AW32208_IBAT_ADC_STEP				12500
#define AW32208_IBAT_ADC_SCALE				4096

#define AW32208_TEMP_BASE_RATIO				10000000
#define AW32208_TEMP_ADC_SCALE				4096

#endif /* _AW32280_H_ */
